<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style>
        *,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar}@-ms-viewport{width:device-width}article,footer,header{display:block}body{margin:0;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}h1,h2{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}strong{font-weight:bolder}small{font-size:80%}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}img{vertical-align:middle;border-style:none}h1,h2{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}h1{font-size:2.5rem}h2{font-size:2rem}.lead{font-size:1.25rem;font-weight:300}small{font-size:80%;font-weight:400}.img-fluid{max-width:100%;height:auto}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col-lg-4,.col-lg-8,.col-md-4,.col-md-8,.col-sm-12{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}@media (min-width:576px){.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}@media (min-width:768px){.col-md-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}@media (min-width:992px){.col-lg-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.btn-outline-dark{color:#343a40;background-color:transparent;background-image:none;border-color:#343a40}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}body{font-family:"Work Sans",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:antialiased;font-weight:400;font-size:18px}h1,h2{font-family:Rubik,sans-serif}h1{font-size:2.7rem;margin-top:1.5rem;margin-bottom:.9rem}h2{font-size:2rem;margin-top:1.5rem;margin-bottom:.66rem}.topbar .logo{width:150px}.footerbar,.footerbar a{color:#fff}body{background:#f6f6f6;line-height:24px;font-kerning:auto;font-stretch:normal}.only-print{display:none}div.footerbar,div.topbar{background-color:#0c4413}.footerbar,.footerbar a,footer a{color:#fff;font-size:14px}footer p{margin-bottom:.5rem;margin-top:.5rem}header{padding:1rem}footer{padding:.5rem}.topbar{display:block}p a:after{content:none;font-size:80%}header .logo{display:inline}
    </style>

    <script>
        !function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){function e(){t.media=a}var a=t.media||"all";t.addEventListener?t.addEventListener("load",e):t.attachEvent&&t.attachEvent("onload",e),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(e,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
    </script>
    <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700,900|Work+Sans:400,500,600,700" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="assets/css/all.css" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <link rel="preload" href="assets/css/print.css" media="print" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="assets/css/screen.css" media="screen" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.7.2/dist/Chart.bundle.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-deferred@1.0.1" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@0.5.7/chartjs-plugin-annotation.min.js" defer></script>
    <!-- https://cdn.jsdelivr.net/npm/plotly.js-dist@1.41.0/plotly.js https://cdnjs.cloudflare.com/ajax/libs/plotly.js/1.40.1/plotly.min.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js" defer></script>
    <!-- <script src="https://unpkg.com/plotly.js-dist@1.40.1/plotly.js" defer></script> -->

    <title>Zoom, anotations, scales, errors and other deviations</title>
    <meta name="robots" content="noindex, nofollow" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125465776-1"></script>
    <script>
        if ( window.location.hostname == "greenpeace.github.io" ) {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-125465776-1');        
        }
    </script>
    <!-- /Global site tag (gtag.js) - Google Analytics -->

    <link rel="shortcut icon" href="https://storage.googleapis.com/peticiones-greenpeace-2018/ico/favicon.png" />
    
</head>

<body>
    <div class="topbar mceNonEditable">
        <div class="container">
            <header>
                <p class="only-print"><img src="assets/ico/greenpeace-black.svg" alt="Greenpeace" /></p>
                <div><a href="index.html"><img class="logo" src="https://storage.googleapis.com/peticiones-greenpeace-jun-2017/ico/greenpeace.svg" alt="Greenpeace" /></a></div>
            </header>
        </div>
    </div>
    <div class="container mceNonEditable">
        <article class="mceEditable">
            <!--
------------------------------------------------------------------------------------------------------------------------
-->
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">Charts and tables</li>
                <li class="breadcrumb-item" aria-current="page">Zoom, anotations, scales, errors and other deviations</li>
              </ol>
            </nav>
            <h1>Zoom, anotations, scales, errors and other deviations</h1>

            <p class="lead">Enhance line and bar charts by adding relevant information or interaction to the chart.</p>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="zoom-errors-dev" href="#zoom-errors-dev" title="Click to get this section's URL">&rtrif;</a> Zoom, errors and deviations</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                                <div id="error_1" style="width: 100%; height: 400px; margin-bottom: 1em;"><!-- Plotly chart will be drawn inside this DIV --></div>
                                  <script>
                                      document.addEventListener("DOMContentLoaded", function (event) {
                                          var data = [
                                              {
                                                x: ['∙ 2001', '∙ 2002', '∙ 2003', '∙ 2004'],
                                                y: [2, 1, 3, 4],
                                                line: {
                                                  color: 'rgba(215, 213, 161, 1)',
                                                  width: 2
                                                },
                                                error_y: {
                                                  type: 'data',
                                                  symmetric: false,
                                                  color: 'rgba(255, 77, 22, 1)',
                                                  array: [0.8, 0.2, 0.2, 0],
                                                  arrayminus: [0, 0, 0.5, 1]
                                                },
                                                type: 'scatter'
                                              }
                                            ];

                                              var layout = {
                                                  title: 'Errores y otras desviaciones en gráficos de líneas',
                                                  font: {
                                                    family: '"Work Sans",sans-serif',
                                                    size: 11,
                                                    color: '#212529'
                                                  },
                                                  titlefont: {
                                                    size: 16,
                                                    color: '#212529'
                                                    },
                                                  yaxis: {
                                                    title: 'Miles de unidades',
                                                    range: [0, 5]
                                                  },
                                                  xaxis: {
                                                    title: 'Años'
                                                  },
                                                margin: {
                                                    r: 10,
                                                    t: 35,
                                                    b: 40,
                                                    l: 60
                                                },
                                                paper_bgcolor: '#f6f6f5',
                                                plot_bgcolor: '#f6f6f5'
                                              };
                                        Plotly.newPlot('error_1', data, layout ,{ displayModeBar: false});
                                        });
                                  </script>
                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Sometimes we should include the <strong> margin of error </strong> in a bar or line diagram. There is a correct way to do it.</p>

                    <p>And other times it's necessary to give the user the option to <strong>zoom</strong> and <strong>navigate</strong> in the chart.</p>

                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/7aweqe00/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://plot.ly/javascript/error-bars/">Docs</a>
                    </p>
                </div>
            </div>



            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div id="error_2" style="width: 100%; height: 400px; margin-bottom: 1em;"><!-- Plotly chart will be drawn inside this DIV --></div>
                        <script>
                            document.addEventListener("DOMContentLoaded", function (event) {
                                var data2 = [
                                  {
                                    x: ['∙ 2001', '∙ 2002', '∙ 2003', '∙ 2004'],
                                    y: [2, 1, 3, 4],
                                    marker:{
                                        color: ['rgba(255, 225, 159, 0.85)', 'rgba(255, 225, 159, 0.85)', 'rgba(255, 225, 159, 0.85)', 'rgba(255, 225, 159, 0.85)']
                                    },
                                    error_y: {
                                      type: 'data',
                                      symmetric: false,
                                      color: 'rgba(255, 77, 22, 1)',
                                      array: [0.8, 0, 0.2, 0],
                                      arrayminus: [0, 0, 0.5, 1]
                                    },
                                    type: 'bar'
                                  }
                                ];

                                  var layout2 = {
                                      title: 'Errores y otras desviaciones en diagramas de barras',
                                      font: {
                                        family: '"Work Sans",sans-serif',
                                        size: 11,
                                        color: '#212529'
                                      },
                                      titlefont: {
                                        size: 16,
                                        color: '#212529'
                                      },
                                      yaxis: {
                                        title: 'Miles de unidades',
                                        range: [0, 5]
                                      },
                                      xaxis: {
                                        title: 'Años',
                                      },
                                    margin: {
                                        r: 10,
                                        t: 35,
                                        b: 40,
                                        l: 60
                                    },
                                    paper_bgcolor: '#f6f6f5',
                                    plot_bgcolor: '#f6f6f5'
                                  };
                            Plotly.newPlot('error_2', data2, layout2 ,{ displayModeBar: false});
                            });
                        </script>
                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-4">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>To include the probable error in a bar or line chart.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/xs5z9qf9/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://plot.ly/javascript/error-bars/">Docs</a>
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="annotations" href="#annotations" title="Click to get this section's URL">&rtrif;</a> Annotations</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                        <div id="myDiv"></div>
                        <script>
                            document.addEventListener("DOMContentLoaded", function (event) {
                                var data3 = [{
                                      x: ['perros', 'gatos', 'personas'],
                                      y: [20, 14, 23],
                                      type: 'bar'
                                    }];

                                    var layout3 = {
                                        title: 'Anotaciones en diagrama de barras',
                                        font: {
                                            family: '"Work Sans",sans-serif',
                                            size: 11,
                                            color: '#212529'
                                          },
                                          titlefont: {
                                            size: 16,
                                            color: '#212529'
                                        },
                                        annotations: [
                                        {
                                          x: 1,
                                          y: 14,
                                          xref: 'x',
                                          yref: 'y',
                                          text: 'Ejemplo de anotación<br>en diagrama de barras',
                                          showarrow: true,
                                          arrowhead: 7,
                                          ax: 0,
                                          ay: -70
                                        }
                                      ],
                                        margin: {
                                                r: 10,
                                                t: 35,
                                                b: 40,
                                                l: 60
                                        },
                                        paper_bgcolor: '#f6f6f5',
                                        plot_bgcolor: '#f6f6f5'

                                    }

                                    Plotly.newPlot('myDiv', data3, layout3, { displayModeBar: false});

                            });

                        </script>

                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Sometimes it is necessary to add annotations to a chart. Although not all types of charts can have annotations, some do.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/8oavrkzd/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://plot.ly/javascript/text-and-annotations/">Docs</a>
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div id="myDiv2" style="width: 100%; height: auto; margin-bottom: 1em;"></div>

                    <script>
                        document.addEventListener("DOMContentLoaded", function (event) {
                            var trace1 = {
                                x: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                                y: [0, 1, 3, 2, 4, 3, 4, 6, 5],
                                name: "Datos A",
                                type: 'scatter'
                            };
                            var trace2 = {
                                x: [0, 1, 2, 3, 4, 5, 6, 7, 8],
                                y: [0, 4, 5, 1, 2, 2, 3, 4, 2],
                                name: "Datos B",
                                type: 'scatter'
                            };
                            var data4 = [trace1, trace2];
                            var layout4 = {
                                title: 'Anotaciones en gráfico de líneas',
                                xaxis: {
                                    fixedrange: true
                                },
                                yaxis: {
                                    fixedrange: true
                                },
                                font: {
                                    family: '"Work Sans",Georgia,serif',
                                    size: 11,
                                    color: '#212529'
                                },
                                titlefont: {
                                    size: 16,
                                    color: '#212529'
                                },
                                showlegend: true,
                                legend: {
                                    "orientation": "h",
                                },
                                annotations: [{
                                    x: 2,
                                    y: 5,
                                    xref: 'x',
                                    yref: 'y',
                                    text: 'Una anotación <br>en gráfico de líneas',
                                    showarrow: true,
                                    arrowhead: 7,
                                    ax: 0,
                                    ay: -40
                                }, {
                                    x: 4,
                                    y: 4,
                                    xref: 'x',
                                    yref: 'y',
                                    text: 'Otra anotación<br>con un <a href="https://es.greenprace.org/es/">enlace</a>',
                                    showarrow: true,
                                    arrowhead: 7,
                                    ax: 0,
                                    ay: -40
                                }],
                                margin: {
                                    r: 0,
                                    t: 35,
                                    b: 20,
                                    l: 10
                                },
                                paper_bgcolor: '#f6f6f5',
                                plot_bgcolor: '#f6f6f5'

                            };
                            Plotly.newPlot('myDiv2', data4, layout4, {
                                displayModeBar: false
                            });
                        });
                    </script>


                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Annotations example in a line chart.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/h12rah0k/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://plot.ly/javascript/text-and-annotations/">Docs</a>
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div class="chart-container" style="position: relative; height:auto; width:100%">
                        <canvas id="bar_chart_1" width="350" height="250"></canvas>
                    </div>
                    <script>
                        document.addEventListener("DOMContentLoaded", function (event) {
                            var ctx = document.getElementById("bar_chart_1");
                            var bar_chart_1 = new Chart(ctx, {
                                type: 'bar',
                                data: {
                                    labels: ["enero", "febrero", "marzo", "abril", "mayo", "junio"],
                                    datasets: [{
                                        label: 'Gastos en miles de euro',
                                        data: [8, 9, 10, 9, 12, 13],
                                        backgroundColor: [
                                            'rgba(255, 225, 159, 0.85)',
                                            'rgba(255, 225, 159, 0.85)',
                                            'rgba(255, 225, 159, 0.85)',
                                            'rgba(255, 225, 159, 0.85)',
                                            'rgba(255, 225, 159, 0.85)',
                                            'rgba(255, 225, 159, 0.85)',
                                        ]
                                    }]
                                },

                                options: {

                                    legend: { display:false},
                                    title: {
                                        display: true,
                                        text: 'Líneas y anotaciones',
                                        fontSize: 16,
                                        fontFamily: '"Work Sans",sans-serif',
                                        fontColor: '#212529'
                                    },
                                    layout: {
                                            padding: {
                                                bottom: 10
                                            }
                                    },
                                    scales: {
                                        yAxes: [{
                                            ticks: {
                                                beginAtZero:true,
                                                fontFamily: '"Work Sans",sans-serif',
                                                fontColor: '#212529'
                                            },
                                            scaleLabel: {
                                                display: true,
                                                labelString: 'Miles de euros',
                                                fontFamily: '"Work Sans",sans-serif',
                                                fontColor: '#212529'
                                            }
                                        }],
                                        xAxes: [{
                                            ticks: {
                                                fontFamily: '"Work Sans",sans-serif',
                                                fontColor: '#212529'
                                            },
                                            scaleLabel: {
                                                display: true,
                                                labelString: 'Meses',
                                                fontFamily: '"Work Sans",sans-serif',
                                                fontColor: '#212529'
                                            }
                                        }]
                                    },

                                    annotation: {
                                        drawTime: 'afterDatasetsDraw',
                                        events: ['click'],
                                        annotations: [{
                                            id: 'hline',
                                            type: 'line',
                                            mode: 'horizontal',
                                            scaleID: 'y-axis-0',
                                            value: 10,
                                            borderColor: 'black',
                                            borderWidth: 1,
                                            label: {
                                                backgroundColor: "rgba(255, 121, 84, 1)",
                                                content: "Línea horizontal",
                                                fontFamily: '"Work Sans",sans-serif',
                                                fontColor: '#212529',
                                                enabled: true
                                                },
                                            }, {
                                            id: 'vline',
                                            type: 'line',
                                            mode: 'vertical',
                                            scaleID: 'x-axis-0',
                                            value: 'febrero',
                                            borderColor: 'black',
                                            borderWidth: 1,
                                            label: {
                                                backgroundColor: "rgba(255, 121, 84, 1)",
                                                content: "Línea vertical",
                                                fontFamily: '"Work Sans",sans-serif',
                                                fontColor: '#212529',
                                                enabled: true
                                                },

                                            }, {
                                                id: 'hline2',
                                                type: 'line',
                                                mode: 'horizontal',
                                                scaleID: 'y-axis-0',
                                                value: 5,
                                                endValue: 8,
                                                borderColor: 'black',
                                                borderWidth: 1,
                                                borderDash: [5, 5],
                                                label: {
                                                    yAdjust: -1,
                                                    backgroundColor: "rgba(255, 121, 84, 1)",
                                                    content: "Tercera línea",
                                                    fontFamily: '"Work Sans",sans-serif',
                                                    fontColor: '#212529',
                                                    enabled: true
                                                    },
                                                }
                                            ]
                                    }

                                }
                            });
                        });
                    </script>

                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Using lines to comment the chart.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/rjLf0d86/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://github.com/chartjs/chartjs-plugin-annotation">Docs</a>
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="scales-tooltips" href="#scales-tooltips" title="Click to get this section's URL">&rtrif;</a> Scales and tooltips</h2>
                </div>
            </div>


            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div class="chart-container" style="position: relative; height:auto; width:100%">
                      <canvas id="line_chart_1" width="350" height="250"></canvas>
                    </div>

                    <script>
                        document.addEventListener("DOMContentLoaded", function (event) {
                              var ctx = document.getElementById("line_chart_1");
                              var line_chart_1 = new Chart(ctx, {
                                type: 'line',
                                data: {
                                  labels: ["2007", "2008", "2009", "2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017"],
                                  datasets: [{
                                    label: 'Presupuesto',
                                    data: [3756844090, 4159380510, 4121679700, 3596326890, 2434264360, 1901425200, 1662071410, 1928648280, 2141114160, 2106753660, 1803053560],
                                    borderColor: 'rgba(142, 229, 187, 1)',
                                    backgroundColor: 'rgba(0,0,0,0)'
                                  }]
                                },
                                options: {
                                  title: {
                                    display: true,
                                    text: 'Presupuesto de los programas de la Secretaría de Estado de Medio Ambiente',
                                    fontSize: 16,
                                    fontFamily: '"Work Sans",sans-serif',
                                    fontColor: '#212529'
                                  },
                                  legend: {
                                    display: true,
                                    labels: {
                                      fontName: '"Work Sans",sans-serif',
                                     fontColor: '#212529',
                                      fontSize: 13
                                    }
                                  },
                                  layout: {
                                    padding: {
                                      bottom: 20
                                    }
                                  },

                                  tooltips: {
                                    callbacks: {
                                      label: function(tooltipItem, data) {
                                        var value = tooltipItem.yLabel;
                                        if (parseInt(value) >= 1000) {
                                          return " " + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".") + ' €';
                                        } else {
                                          return '€' + value;
                                        }
                                      }
                                    }
                                  },
                                  scales: {
                                    yAxes: [{
                                      ticks: {
                                        beginAtZero: true,
                                        // max: 25,
                                        fontFamily: '"Work Sans",sans-serif',
                                        fontColor: '#212529',
                                        callback: function(label, index, labels) {
                                          return label / 1000000 + ' M';
                                        }
                                      },
                                      scaleLabel: {
                                        display: true,
                                        labelString: 'Importe en milliones de euro',
                                        fontFamily: '"Work Sans",sans-serif',
                                        fontColor: '#212529'
                                      }
                                    }],
                                    xAxes: [{
                                      ticks: {
                                        beginAtZero: true,
                                        fontFamily: '"Work Sans",sans-serif',
                                        fontColor: '#212529'
                                      },
                                      scaleLabel: {
                                        display: true,
                                        labelString: 'Año',
                                        fontFamily: '"Work Sans",sans-serif',
                                        fontColor: '#212529'
                                      }
                                    }]
                                  }
                                }
                              });
                        });
                    </script>


                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Many charts allow custom scales and tooltips. To use, for example, when a chart has very large numbers.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/7vvf165e/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/kegzw7g2/embedded/result,html/">With 2 datasets</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/8d0hry00/embedded/result,html/">Pie chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://www.chartjs.org/docs/latest/axes/">Docs</a>
                    </p>
                    <!-- EXAMPLES -->                  
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/noticias/la-lucha-contra-el-cambio-climatico-y-la-desigualdad-muchas-promesas-y-poco-presupuesto/">Inequality: many promises and small budgets</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="scales-2-mixed" href="#scales-2-mixed" title="Click to get this section's URL">&rtrif;</a> Two scales and mixed graph type</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div id="doubleAxis" style="width: 100%; height: auto; margin-bottom: 1em;"></div>

                    <script>
                        document.addEventListener("DOMContentLoaded", function (event) {
                              var trace1 = {
                                x: ['∙ 2007', '∙ 2008', '∙ 2009', '∙ 2010', '∙ 2011', '∙ 2012', '∙ 2013', '∙ 2014', '∙ 2015', '∙ 2016', '∙ 2017'],
                                y: [86122, 50323, 120094, 54770, 102161, 218957, 61691, 48718, 65850, 178436],
                                marker: {
                                  color: ['rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', 'rgba(255, 195, 49, 1)', ]
                                },
                                name: 'Superficie afectada (ha)',
                                type: 'bar'
                              };

                              var trace2 = {
                                x: ['∙ 2007', '∙ 2008', '∙ 2009', '∙ 2010', '∙ 2011', '∙ 2012', '∙ 2013', '∙ 2014', '∙ 2015', '∙ 2016', '∙ 2017'],
                                y: [6, 35, 11, 24, 41, 17, 7, 16, 22, 56],
                                line: {
                                  color: 'rgba(255, 77, 22, 1)',
                                  width: 2
                                },
                                name: 'Nº de grandes incendios',
                                yaxis: 'y2',
                                type: 'scatter'
                              };

                              var data = [trace1, trace2];

                              var layout5 = {
                                title: 'Incendios florestales en Espana',
                                font: {
                                  family: '"Work Sans",sans-serif',
                                  size: 11,
                                  color: '#212529'
                                },
                                titlefont: {
                                  size: 16,
                                  color: '#212529'
                                },
                                xaxis: {
                                  fixedrange: true,
                                  // title: 'Año'
                                },
                                yaxis: {
                                  title: 'Superficie afectada (ha)',
                                  fixedrange: true,
                                  showgrid: false,
                                  tickmode: 'array',
                                  tickvals: [0, 50000 ,100000, 150000, 200000, 250000],
                                  ticktext: ["0", "50.000", "100.000", "150.000", "200.000", "250.000",]
                                },

                                yaxis2: {
                                  fixedrange: true,
                                  title: 'Nº de grandes incendios (> 500 ha)',
                                  overlaying: 'y',
                                  side: 'right',
                                  showgrid: false,
                                  range: [0, 60]
                                },
                                margin: {
                                  r: 60,
                                  t: 55,
                                  b: 50,
                                  l: 60
                                },
                                legend: {
                                  showlegend: true,
                                  orientation: "h"
                                },
                                  paper_bgcolor: '#f6f6f5',
                                  plot_bgcolor: '#f6f6f5'
                              };

                              Plotly.newPlot('doubleAxis', data, layout5, {
                                displayModeBar: false
                              });
                        });


                    </script>

                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>To compare the evolution of two data sets that have two different scales in the same graph.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/9kdxu1om/embedded/result,html/">Copy chart</a>
                        <a class="btn btn-secondary" target="_blank" href="https://plot.ly/javascript/multiple-axes/">Docs</a>
                    </p>
                    <!-- EXAMPLES -->                  
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/trabajamos-en/democracia-y-contrapoder/presupuestos-generales-2018/n3/">How the government forgets nature</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->
                </div>
            </div>



            <p>&nbsp;</p>
            <p class="text-center"><a class="btn btn-dark" href="experimental.html">Prev</a> <a class="btn btn-dark" href="network-charts.html">Next</a></p>
            <p>&nbsp;</p>
            <!--
------------------------------------------------------------------------------------------------------------------------
-->
        </article>
    </div>
    <div class="footerbar mceNonEditable">
        <div class="container">
            <footer>
                <div class="row">
                    <div class="col-md-4 text-left">
                        <p><a href="https://es.greenpeace.org/es/politica-de-privacidad-y-cookies/">Privacy and cookies</a></p>
                    </div>
                    <div class="col-md-4 text-center">
                        <p><a href="index.html"> <img src="https://storage.googleapis.com/peticiones-greenpeace-2018/ico/greenpeace.svg" alt="Greenpeace" /> </a></p>
                    </div>
                    <div class="col-md-4 text-right">
                        <p><a href="https://es.greenpeace.org/es/copyright/">&copy; Greenpeace 2018</a></p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="https://unpkg.com/popper.js@1.14.4/dist/umd/popper.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" defer></script>
</body>

</html>
