<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style>
        *,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar}@-ms-viewport{width:device-width}article,footer,header{display:block}body{margin:0;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}h1,h2{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}strong{font-weight:bolder}small{font-size:80%}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}img{vertical-align:middle;border-style:none}h1,h2{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}h1{font-size:2.5rem}h2{font-size:2rem}.lead{font-size:1.25rem;font-weight:300}small{font-size:80%;font-weight:400}.img-fluid{max-width:100%;height:auto}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col-lg-4,.col-lg-8,.col-md-4,.col-md-8,.col-sm-12{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}@media (min-width:576px){.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}@media (min-width:768px){.col-md-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}@media (min-width:992px){.col-lg-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.btn-outline-dark{color:#343a40;background-color:transparent;background-image:none;border-color:#343a40}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}body{font-family:"Work Sans",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:antialiased;font-weight:400;font-size:18px}h1,h2{font-family:Rubik,sans-serif}h1{font-size:2.7rem;margin-top:1.5rem;margin-bottom:.9rem}h2{font-size:2rem;margin-top:1.5rem;margin-bottom:.66rem}.topbar .logo{width:150px}.footerbar,.footerbar a{color:#fff}body{background:#f6f6f6;line-height:24px;font-kerning:auto;font-stretch:normal}.only-print{display:none}div.footerbar,div.topbar{background-color:#0c4413}.footerbar,.footerbar a,footer a{color:#fff;font-size:14px}footer p{margin-bottom:.5rem;margin-top:.5rem}header{padding:1rem}footer{padding:.5rem}.topbar{display:block}p a:after{content:none;font-size:80%}header .logo{display:inline}
    </style>

    <script>
        !function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){function e(){t.media=a}var a=t.media||"all";t.addEventListener?t.addEventListener("load",e):t.attachEvent&&t.attachEvent("onload",e),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(e,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);
    </script>
    <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700,900|Work+Sans:400,500,600,700" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="assets/css/all.css" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <link rel="preload" href="assets/css/print.css" media="print" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="assets/css/screen.css" media="screen" as="style" onload="this.onload=null;this.rel='stylesheet'" />

    <title>Experimental stuff</title>
    <meta name="robots" content="noindex, nofollow" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125465776-1"></script>
    <script>
        if ( window.location.hostname == "greenpeace.github.io" ) {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-125465776-1');        
        }
    </script>
    <!-- /Global site tag (gtag.js) - Google Analytics -->

    <link rel="shortcut icon" href="https://storage.googleapis.com/peticiones-greenpeace-2018/ico/favicon.png" />
    
</head>

<body>
    <div class="topbar mceNonEditable">
        <div class="container">
            <header>
                <p class="only-print"><img src="assets/ico/greenpeace-black.svg" alt="Greenpeace" /></p>
                <div><a href="index.html"><img class="logo" src="https://storage.googleapis.com/peticiones-greenpeace-jun-2017/ico/greenpeace.svg" alt="Greenpeace" /></a></div>
            </header>
        </div>
    </div>
    <div class="container mceNonEditable">
        <article class="mceEditable">
            <!--
------------------------------------------------------------------------------------------------------------------------
-->
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">Charts and tables</li>
                <li class="breadcrumb-item" aria-current="page">Experimental stuff</li>
              </ol>
            </nav>
            <h1>Experimental stuff</h1>

            <p class="lead">Stuff being tested. It might not work as expected.</p>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="progress-bar" href="#progress-bar" title="Click to get this section's URL">&rtrif;</a> Progress bar</h2>
                </div>
            </div>

            <div class="row">

                <div class="col-sm-12 col-md-8">

                    <p>Progress bars are small and can be inserted between text...</p>

                    <!-- PROGRESS BAR -->
                    <div class="progress" style="height: 40px;">
                        <div class="progress-bar" role="progressbar" style="width: 25%; background-color: #FFA000; color: #FFFFFF; font-weight: 700;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                    </div>
                    <!-- / PROGRESS BAR -->

                    <p><small>Progress bar footer</small></p>

                    <p>...and they can accumulate progress...</p>

                    <!-- PROGRESS BAR -->
                    <div class="progress" style="height: 40px;">
                        <div class="progress-bar" role="progressbar" style="width: 25%; background-color: #FFA000; color: #FFFFFF; font-weight: 700;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                        <div class="progress-bar" role="progressbar" style="width: 40%; background-color: #FF4D16; color: #FFFFFF; font-weight: 700;" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">40%</div>
                    </div>
                    <!-- / PROGRESS BAR -->

                </div>
                <div class="col-md-4">
                    <p>To illustrate progress, or if there’s more than one, to compare progress. Simple progress bars are very easy to do in our site. More advanced progress bars can be <strong>interactive</strong> and <strong>animated</strong>. They can interact for example with a map, links or select element.</p>
                    <p>Progress bars <strong>can’t be shared</strong> (at the moment) with other sites with a classic “download” link. This will be developed if we use them in important projects.</p>
                    <p><a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/goxy0smp/embedded/result,html/">Copy</a></p>
                </div>

            </div>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="intersections" href="#intersections" title="Click to get this section's URL">&rtrif;</a> Intersections</h2>
                </div>
            </div>

            <div class="row">

                <div class="col-sm-12 col-md-8">
                    <!-- VENN DIAGRAM -->
                    <script src="https://cdn.jsdelivr.net/npm/d3@4.13.0" defer></script>
                    <script src="https://cdn.jsdelivr.net/npm/venn.js@0.2.20/build/venn.js" defer></script>
                    <style>
                        svg text {
                            fill: #000099;
                            font-family: "Work Sans", sans-serif;
                        }

                        [data-venn-sets="A"]   { fill: #FF4D16; }
                        [data-venn-sets="C"]   { fill: #48B9E5; }
                        [data-venn-sets="B"]   { fill: #8EE5BB; }
                        [data-venn-sets="D"]   { fill: #FFA000; }
                        [data-venn-sets="A_B"] { fill: #FFC4A7; }
                        [data-venn-sets="A_C"] { fill: #D7D5A1; }
                        [data-venn-sets="A_D"] { fill: #FDF6B2; }

                    </style>

                    <div id="venn"></div>

                    <script>

                        document.addEventListener("DOMContentLoaded", function(){

                            var elwidth = document.getElementById("venn").offsetWidth;
                            var fontWidth = 11;
                            if ( elwidth >= 400 && elwidth < 600 ) {
                                fontWidth = 14;
                            } else if ( elwidth >= 600) {
                                fontWidth = 16;
                            }

                            var sets = [
                                {sets: ['A'], size: 12, label: 'Alpha'},
                                {sets: ['B'], size: 12, label: 'Beta'},
                                {sets: ['C'], size: 8, label: 'Sigma'},
                                {sets: ['D'], size: 6, label: 'Delta'},
                                {sets: ['A','B'], size: 4, label: "Alpha+Beta"},
                                {sets: ['A','C'], size: 4, label: 'Alpha+Sigma'},
                                {sets: ['A','D'], size: 1.5, label: 'Alpha+Delta'}
                            ];

                            var chart = venn.VennDiagram()
                                .styled(false)
                                .wrap(false)
                                .fontSize( fontWidth + "px")
                                .width(elwidth)
                                .height(elwidth / 1.5);

                            d3.select("#venn").datum(sets).call(chart);

                        });

                    </script>
                    <!-- /VENN DIAGRAM -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5 mt-2">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>

                <div class="col-md-4">
                    <p>
                        <a href="https://en.wikipedia.org/wiki/Venn_diagram" target="_blank">Venn diagrams</a> are great to show intersections between elements.
                    </p>

                    <p>This library also allows interactive diagrams. And you can use plain CSS and Javascript with each element.</p>

                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/L6qdxt9k/embedded/result,html/">Copy</a>
                        <a class="btn btn-secondary" target="_blank" href="https://github.com/benfred/venn.js/">Docs</a>
                    </p>
                </div>

            </div>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="tag-cloud" href="#tag-cloud" title="Click to get this section's URL">&rtrif;</a> Tag cloud</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->

                    <link rel="stylesheet" href="assets/css/jqcloud.css" />
                    
                    <div id="wordclould_container" style="height: 400px; border: 1px solid #ddd;"></div>
                    
                    <script>
                        document.addEventListener("DOMContentLoaded", function(){
                            var words = [
                              {
                                  text: "Lorem", 
                                    weight: 13,
                                    html: {class: "foo"},
                                    handlers: {click: function(){ console.log('Lorem clicked') } }
                              },
                              {
                                  text: "Ipsum", 
                                  weight: 10.5
                              },
                              {
                                  text: "Dolor", 
                                    weight: 9.4
                              },
                              {
                                  text: "Sit", 
                                  weight: 8
                              },
                              {
                                  text: "Amet", 
                                  weight: 6.2
                              },
                              {
                                  text: "Consectetur", 
                                    weight: 5
                              },
                              {text: "Adipiscing", weight: 5},
                              /* ... */
                            ];
                            $("#wordclould_container").jQCloud(words);
                        });
                    </script>
                    
                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5 mt-2">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>A tag cloud (word cloud, or weighted list in visual design) is a novelty visual representation of text data, typically used to depict keyword metadata (tags) on websites, or to visualize free form text.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/u64vdcmy/embedded/result,html/">Copy</a>
                        <a class="btn btn-secondary" target="_blank" href="http://mistic100.github.io/jQCloud/">Docs</a>
                    </p>
                    
                    
                    <!-- EXAMPLES -->                  
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://hazgreenpeace.org/">Make Greenpeace</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->
                    
                </div>
            </div>
            
            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="gapminder" href="#gapminder" title="Click to get this section's URL">&rtrif;</a> Gapminder</h2>
                </div>
            </div>


            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- https://cdn.jsdelivr.net/npm/plotly.js-dist@1.41.0/plotly.js https://cdnjs.cloudflare.com/ajax/libs/plotly.js/1.40.1/plotly.min.js -->
                    <!-- FIGURE -->

                    <script src="https://cdn.plot.ly/plotly-latest.min.js" defer></script>

                    <div id="gapminderBubble">
                        <!-- Plotly chart will be drawn inside this DIV -->
                    </div>
                    <script>
                        document.addEventListener("DOMContentLoaded", function (event) {
                            Plotly.d3.csv('assets/data/gapminderDataFiveYear.csv', function(err, data) {
                                // Create a lookup table to sort and regroup the columns of data,
                                // first by year, then by continent:
                                var lookup = {};

                                function getData(year, continent) {
                                    var byYear, trace;
                                    if (!(byYear = lookup[year])) {;
                                        byYear = lookup[year] = {};
                                    }
                                    // If a container for this year + continent doesn't exist yet,
                                    // then create one:
                                    if (!(trace = byYear[continent])) {
                                        trace = byYear[continent] = {
                                            x: [],
                                            y: [],
                                            id: [],
                                            text: [],
                                            marker: {
                                                size: []
                                            }
                                        };
                                    }
                                    return trace;
                                }

                                // Go through each row, get the right trace, and append the data:
                                for (var i = 0; i < data.length; i++) {
                                    var datum = data[i];
                                    var trace = getData(datum.year, datum.continent);
                                    trace.text.push(datum.country);
                                    trace.id.push(datum.country);
                                    trace.x.push(datum.lifeExp);
                                    trace.y.push(datum.gdpPercap);
                                    trace.marker.size.push(datum.pop);
                                }

                                // Get the group names:
                                var years = Object.keys(lookup);
                                // In this case, every year includes every continent, so we
                                // can just infer the continents from the *first* year:
                                var firstYear = lookup[years[0]];
                                var continents = Object.keys(firstYear);

                                // Create the main traces, one for each continent:
                                var traces = [];
                                for (i = 0; i < continents.length; i++) {
                                    var data = firstYear[continents[i]];
                                    // One small note. We're creating a single trace here, to which
                                    // the frames will pass data for the different years. It's
                                    // subtle, but to avoid data reference problems, we'll slice
                                    // the arrays to ensure we never write any new data into our
                                    // lookup table:
                                    traces.push({
                                        name: continents[i],
                                        x: data.x.slice(),
                                        y: data.y.slice(),
                                        id: data.id.slice(),
                                        text: data.text.slice(),
                                        mode: 'markers',
                                        marker: {
                                            size: data.marker.size.slice(),
                                            sizemode: 'area',
                                            sizeref: 200000
                                        }
                                    });
                                }

                                // Create a frame for each year. Frames are effectively just
                                // traces, except they don't need to contain the *full* trace
                                // definition (for example, appearance). The frames just need
                                // the parts the traces that change (here, the data).
                                var frames = [];
                                for (i = 0; i < years.length; i++) {
                                    frames.push({
                                        name: years[i],
                                        data: continents.map(function(continent) {
                                            return getData(years[i], continent);
                                        })
                                    })
                                }

                                // Now create slider steps, one for each frame. The slider
                                // executes a plotly.js API command (here, Plotly.animate).
                                // In this example, we'll animate to one of the named frames
                                // created in the above loop.
                                var sliderSteps = [];
                                for (i = 0; i < years.length; i++) {
                                    sliderSteps.push({
                                        method: 'animate',
                                        label: years[i],
                                        args: [
                                            [years[i]], {
                                                mode: 'immediate',
                                                transition: {
                                                    duration: 300
                                                },
                                                frame: {
                                                    duration: 300,
                                                    redraw: false
                                                },
                                            }
                                        ]
                                    });
                                }

                                var layout = {
                                    font: {
                                        family: '"Work Sans",sans-serif',
                                        size: 11,
                                        color: '#212529'
                                    },
                                    titlefont: {
                                        size: 16,
                                        color: '#212529'
                                    },
                                    paper_bgcolor: '#f6f6f5',
                                    plot_bgcolor: '#f6f6f5',
                                    margin: {
                                        r: 10,
                                        t: 35,
                                        b: 40,
                                        l: 40
                                    },
                                    xaxis: {
                                        title: 'Esperanza de vida',
                                        range: [30, 85]
                                    },
                                    yaxis: {
                                        title: 'PIB per cápita',
                                        type: 'log'
                                    },
                                    hovermode: 'closest',
                                    // We'll use updatemenus (whose functionality includes menus as
                                    // well as buttons) to create a play button and a pause button.
                                    // The play button works by passing `null`, which indicates that
                                    // Plotly should animate all frames. The pause button works by
                                    // passing `[null]`, which indicates we'd like to interrupt any
                                    // currently running animations with a new list of frames. Here
                                    // The new list of frames is empty, so it halts the animation.
                                    updatemenus: [{
                                        x: 0,
                                        y: 0,
                                        yanchor: 'top',
                                        xanchor: 'left',
                                        showactive: false,
                                        direction: 'left',
                                        type: 'buttons',
                                        pad: {
                                            t: 87,
                                            r: 10
                                        },
                                        buttons: [{
                                            method: 'animate',
                                            args: [null, {
                                                mode: 'immediate',
                                                fromcurrent: true,
                                                transition: {
                                                    duration: 300
                                                },
                                                frame: {
                                                    duration: 500,
                                                    redraw: false
                                                }
                                            }],
                                            label: 'Play'
                                        }, {
                                            method: 'animate',
                                            args: [
                                                [null], {
                                                    mode: 'immediate',
                                                    transition: {
                                                        duration: 0
                                                    },
                                                    frame: {
                                                        duration: 0,
                                                        redraw: false
                                                    }
                                                }
                                            ],
                                            label: 'Pausa'
                                        }]
                                    }],
                                    // Finally, add the slider and use `pad` to position it
                                    // nicely next to the buttons.
                                    sliders: [{
                                        pad: {
                                            l: 130,
                                            t: 55
                                        },
                                        currentvalue: {
                                            visible: true,
                                            prefix: 'Año:',
                                            xanchor: 'right',
                                            font: {
                                                size: 20,
                                                color: '#666'
                                            }
                                        },
                                        steps: sliderSteps
                                    }]
                                };

                                // Create the plot:
                                Plotly.plot('gapminderBubble', {
                                    displayModeBar: 'hover', // False is not working
                                    data: traces,
                                    layout: layout,
                                    frames: frames,
                                });
                            });
                        });

                    </script>



                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5 mt-2">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p><a href="https://www.gapminder.org/tools/#$chart-type=bubbles" target="_blank">Gapminder-like bubble chart</a>. It needs more testing, can't remove toolbar, Data as a <a href="assets/data/gapminderDataFiveYear.csv" target="_blank">csv</a>. <strong>Doesn't work well with small screens, use with care!</strong></p>
                    <!-- <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/t8utop2k/embedded/result,html/">Copy this graph</a>
                    </p> -->
                </div>
            </div>
            
            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="zoomable-circle-packing" href="#zoomable-circle-packing" title="Click to get this section's URL">&rtrif;</a> Zoomable Circle Packing</h2>
                </div>
            </div>
            
            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <style>
                        #svgEl .node {
                            cursor: pointer;
                        }

                        #svgEl .node:hover {
                            stroke: #000;
                            stroke-width: 1.5px;
                        }

                        #svgEl .node--leaf {
                            fill: white;
                        }

                        #svgEl .label {
                            font: 11px "Work Sans", sans-serif;
                            text-anchor: middle;
                            text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff, 0 -1px 0 #fff;
                        }

                        #svgEl .label,
                        #svgEl .node--root,
                        #svgEl .node--leaf {
                            pointer-events: none;
                        }
                    </style>
                    <div id="svgContainer">
                        <svg id="svgEl"></svg>
                    </div>
                    <script>
                        (function() {
                            var elwidth = document.getElementById("svgContainer").offsetWidth;
                            var svgEl = document.getElementById("svgEl");
                            svgEl.setAttribute("width", elwidth);
                            svgEl.setAttribute("height", elwidth);
                        })();
                    </script>
                    <!-- linked above <script src="https://cdn.jsdelivr.net/npm/d3@4.13.0/build/d3.min.js" defer></script> -->

                    <script>
                        document.addEventListener("DOMContentLoaded", function() {

                            var svg = d3.select("#svgEl"),
                                margin = 20,
                                diameter = +svg.attr("width"),
                                g = svg.append("g").attr("transform", "translate(" + diameter / 2 + "," + diameter / 2 + ")");

                            var color = d3.scaleLinear()
                                .domain([-1, 5])
                                .range(["rgba(72, 185, 229, 1)", "rgba(255, 160, 0, 1)"])
                                .interpolate(d3.interpolateHcl);

                            var pack = d3.pack()
                                .size([diameter - margin, diameter - margin])
                                .padding(2);

                            d3.json("assets/data/flare.json", function(error, root) {
                                if (error) throw error;

                                root = d3.hierarchy(root)
                                    .sum(function(d) {
                                        return d.size;
                                    })
                                    .sort(function(a, b) {
                                        return b.value - a.value;
                                    });

                                var focus = root,
                                    nodes = pack(root).descendants(),
                                    view;

                                var circle = g.selectAll("circle")
                                    .data(nodes)
                                    .enter().append("circle")
                                    .attr("class", function(d) {
                                        return d.parent ? d.children ? "node" : "node node--leaf" : "node node--root";
                                    })
                                    .style("fill", function(d) {
                                        return d.children ? color(d.depth) : null;
                                    })
                                    .on("click", function(d) {
                                        if (focus !== d) zoom(d), d3.event.stopPropagation();
                                    });

                                var text = g.selectAll("text")
                                    .data(nodes)
                                    .enter().append("text")
                                    .attr("class", "label")
                                    .style("fill-opacity", function(d) {
                                        return d.parent === root ? 1 : 0;
                                    })
                                    .style("display", function(d) {
                                        return d.parent === root ? "inline" : "none";
                                    })
                                    .text(function(d) {
                                        return d.data.name;
                                    });

                                var node = g.selectAll("circle,text");

                                svg
                                    .style("background", color(-1))
                                    .on("click", function() {
                                        zoom(root);
                                    });

                                zoomTo([root.x, root.y, root.r * 2 + margin]);

                                function zoom(d) {
                                    var focus0 = focus;
                                    focus = d;

                                    var transition = d3.transition()
                                        .duration(d3.event.altKey ? 7500 : 750)
                                        .tween("zoom", function(d) {
                                            var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);
                                            return function(t) {
                                                zoomTo(i(t));
                                            };
                                        });

                                    transition.selectAll("text")
                                        .filter(function(d) {
                                            return d.parent === focus || this.style.display === "inline";
                                        })
                                        .style("fill-opacity", function(d) {
                                            return d.parent === focus ? 1 : 0;
                                        })
                                        .on("start", function(d) {
                                            if (d.parent === focus) this.style.display = "inline";
                                        })
                                        .on("end", function(d) {
                                            if (d.parent !== focus) this.style.display = "none";
                                        });
                                }

                                function zoomTo(v) {
                                    var k = diameter / v[2];
                                    view = v;
                                    node.attr("transform", function(d) {
                                        return "translate(" + (d.x - v[0]) * k + "," + (d.y - v[1]) * k + ")";
                                    });
                                    circle.attr("r", function(d) {
                                        return d.r * k;
                                    });
                                }
                            });

                        });
                    </script>
                    <!-- /FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5 mt-2">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                    
                    
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Circular packing or circular treemap allows to visualise a hierarchic architecture better than with a treemap, but it's not as space efficient.</p>
                    <!-- https://bl.ocks.org/mbostock/7607535 -->
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <h2><a name="counter" href="#counter" title="Click to get this section's URL">&rtrif;</a> Counter</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/odometer@0.4.8/themes/odometer-theme-plaza.min.css" />
                    <script src="https://cdn.jsdelivr.net/npm/odometer@0.4.8/odometer.min.js" defer></script>

                    <style>

                    .odometer.odometer-auto-theme,
                    .odometer.odometer-theme-plaza {
                        font-size: 35px;
                        font-family: "Rubik", sans-serif;
                        font-weight: 600;
                    }

                    .odometer.odometer-auto-theme .odometer-digit,
                    .odometer.odometer-theme-plaza .odometer-digit {
                        color: #444;
                        border: 1px solid #ddd;
                    }

                    .unitCounter {
                        font-size: 32px;
                        font-family: "Rubik", sans-serif;
                        font-weight: 600;
                        vertical-align: middle;
                        color: #555;
                        margin-left: 3px;
                    }
                    </style>

                    <div><span id="odometer2" class="odometer2"></span><span class="unitCounter">€</span></div>

                    <script>

                        document.addEventListener("DOMContentLoaded", function(){

                            var initial = 2600000000;

                            var incrementPerSecond = 20;

                            window.odometerOptions = {
                              auto: false,
                              selector: '.odometer2',
                              format: '(,ddd).dd',
                              duration: 2000
                            };

                            var el = document.querySelector('.odometer2');

                            odometer = new Odometer({
                                el: el,
                                value: 2600000000,
                                format: '(.ddd),dd',
                                duration: 2000
                            });

                            var secondsSinceRef = function() {
                                var t1 = new Date();
                                var t2 = new Date(2019, 02, 14, 0, 0, 0, 0); // Javascript date (month -1)
                                var dif = t1.getTime() - t2.getTime();
                                var Seconds_from_T1_to_T2 = dif / 1000;
                                var Seconds_Between_Dates = Math.abs(Seconds_from_T1_to_T2);
                                return parseInt(Seconds_Between_Dates);
                            };

                            var current = initial + (secondsSinceRef() * incrementPerSecond);

                            odometer.update(current);

                            setInterval(function() {
                                current = current + (incrementPerSecond * 2);
                                odometer.update(current);
                            }, 2000);

                        });

                    </script>
                    <!-- /FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5 mt-2">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->


                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Counters can be used for visualisations when we want to show urgency. The classic “money spent in”...</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/dyfLxcst/embedded/result,html/">Copy counter</a>
                        <a class="btn btn-secondary" target="_blank" href="https://github.hubspot.com/odometer/">Docs</a>
                    </p>


                    <!-- EXAMPLES
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="#">....</a>
                            </div>
                        </li>
                    </ul>
                    EXAMPLES -->

                </div>
            </div>

            <p>&nbsp;</p>
            <p class="text-center"><a class="btn btn-dark" href="treemap-heatmap-charts.html">Prev</a> <a class="btn btn-dark" href="details-charts.html">Next</a></p>
            <p>&nbsp;</p>
            <!--
------------------------------------------------------------------------------------------------------------------------
-->
        </article>
    </div>
    <div class="footerbar mceNonEditable">
        <div class="container">
            <footer>
                <div class="row">
                    <div class="col-md-4 text-left">
                        <p><a href="https://es.greenpeace.org/es/politica-de-privacidad-y-cookies/">Privacy and cookies</a></p>
                    </div>
                    <div class="col-md-4 text-center">
                        <p><a href="index.html"> <img src="https://storage.googleapis.com/peticiones-greenpeace-2018/ico/greenpeace.svg" alt="Greenpeace" /> </a></p>
                    </div>
                    <div class="col-md-4 text-right">
                        <p><a href="https://es.greenpeace.org/es/copyright/">&copy; Greenpeace 2019</a></p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="https://unpkg.com/popper.js@1.14.4/dist/umd/popper.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jqcloud2@2.0.3/dist/jqcloud.min.js" defer></script>
    

</body>

</html>
