<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
    <style>
        *,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar}@-ms-viewport{width:device-width}article,footer,header{display:block}body{margin:0;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}h1,h2{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}strong{font-weight:bolder}small{font-size:80%}a{color:#007bff;text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}img{vertical-align:middle;border-style:none}h1,h2{margin-bottom:.5rem;font-family:inherit;font-weight:500;line-height:1.2;color:inherit}h1{font-size:2.5rem}h2{font-size:2rem}.lead{font-size:1.25rem;font-weight:300}small{font-size:80%;font-weight:400}.img-fluid{max-width:100%;height:auto}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col-lg-4,.col-lg-8,.col-md-4,.col-md-8,.col-sm-12{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}@media (min-width:576px){.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}}@media (min-width:768px){.col-md-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}@media (min-width:992px){.col-lg-4{-webkit-box-flex:0;-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-8{-webkit-box-flex:0;-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}.btn{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem}.btn-outline-dark{color:#343a40;background-color:transparent;background-image:none;border-color:#343a40}.text-left{text-align:left!important}.text-right{text-align:right!important}.text-center{text-align:center!important}body{font-family:"Work Sans",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:antialiased;font-weight:400;font-size:18px}h1,h2{font-family:Rubik,sans-serif}h1{font-size:2.7rem;margin-top:1.5rem;margin-bottom:.9rem}h2{font-size:2rem;margin-top:1.5rem;margin-bottom:.66rem}.topbar .logo{width:150px}.footerbar,.footerbar a{color:#fff}body{background:#f6f6f6;line-height:24px;font-kerning:auto;font-stretch:normal}.only-print{display:none}div.footerbar,div.topbar{background-color:#0c4413}.footerbar,.footerbar a,footer a{color:#fff;font-size:14px}footer p{margin-bottom:.5rem;margin-top:.5rem}header{padding:1rem}footer{padding:.5rem}.topbar{display:block}p a:after{content:none;font-size:80%}header .logo{display:inline}
    </style>
    
    <script>
        !function(t){"use strict";t.loadCSS||(t.loadCSS=function(){});var e=loadCSS.relpreload={};if(e.support=function(){var e;try{e=t.document.createElement("link").relList.supports("preload")}catch(t){e=!1}return function(){return e}}(),e.bindMediaToggle=function(t){function e(){t.media=a}var a=t.media||"all";t.addEventListener?t.addEventListener("load",e):t.attachEvent&&t.attachEvent("onload",e),setTimeout(function(){t.rel="stylesheet",t.media="only x"}),setTimeout(e,3e3)},e.poly=function(){if(!e.support())for(var a=t.document.getElementsByTagName("link"),n=0;n<a.length;n++){var o=a[n];"preload"!==o.rel||"style"!==o.getAttribute("as")||o.getAttribute("data-loadcss")||(o.setAttribute("data-loadcss",!0),e.bindMediaToggle(o))}},!e.support()){e.poly();var a=t.setInterval(e.poly,500);t.addEventListener?t.addEventListener("load",function(){e.poly(),t.clearInterval(a)}):t.attachEvent&&t.attachEvent("onload",function(){e.poly(),t.clearInterval(a)})}"undefined"!=typeof exports?exports.loadCSS=loadCSS:t.loadCSS=loadCSS}("undefined"!=typeof global?global:this);        
    </script>
    <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Rubik:300,400,500,700,900|Work+Sans:400,500,600,700" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="assets/css/all.css" as="style" onload="this.onload=null;this.rel='stylesheet'"/>
    <link rel="preload" href="assets/css/print.css" media="print" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <link rel="preload" href="assets/css/screen.css" media="screen" as="style" onload="this.onload=null;this.rel='stylesheet'" />
        
    <title>Advanced maps</title>
    <meta name="robots" content="noindex, nofollow" />
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125465776-1"></script>
    <script>
        if ( window.location.hostname == "greenpeace.github.io" ) {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'UA-125465776-1');        
        }
    </script>
    <!-- /Global site tag (gtag.js) - Google Analytics -->

    <link rel="shortcut icon" href="https://storage.googleapis.com/peticiones-greenpeace-2018/ico/favicon.png" />
  
</head>

<body>
    <div class="topbar mceNonEditable">
        <div class="container">
            <header>
                <p class="only-print"><img src="assets/ico/greenpeace-black.svg" alt="Greenpeace" /></p>
                <div><a href="index.html"><img class="logo" src="https://storage.googleapis.com/peticiones-greenpeace-jun-2017/ico/greenpeace.svg" alt="Greenpeace" /></a></div>
            </header>
        </div>
    </div>
    <div class="container mceNonEditable">
        <article class="mceEditable">
            <!--
------------------------------------------------------------------------------------------------------------------------
-->
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">Maps</li>
                <li class="breadcrumb-item" aria-current="page">Maps</li>
              </ol>
            </nav>
            <h1>Maps</h1>

            <p class="lead">For simple or complex maps you should use <strong style="font-weight: 700;">standard formats</strong> and external software, when possible.</p>

            <p>We can also use a few <strong style="font-weight: 700;">custom designs</strong> (tiles), instead of the well known Google Maps.</p>

            <div class="row">
                <div class="col-sm">
                    <h2><a name="kml" href="#kml" title="Click to get this section's URL">&rtrif;</a> Google Earth, Google Maps and KML layers</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div id="kml_map" style="height: 400px; margin-bottom: 0.5em;"></div>
                    <script>
                      function initMapKML() {
                        var map = new google.maps.Map(document.getElementById('kml_map'), {
                            scrollwheel: false
                        });

                        var ctaLayer = new google.maps.KmlLayer({
                          url: 'https://storage.googleapis.com/gp-misc/images-maps/demo-1/lisbon-example.kml',
                          map: map
                        });
                      }
                    </script>
                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>One of the formats we can work is <strong><a target="_blank" href="https://en.wikipedia.org/wiki/Keyhole_Markup_Language">KML</a></strong>. Use <a href="https://www.google.com/earth/download/ge/" target="_blank">Google Earth</a> to create maps with dots, routes, areas and photos. Export this maps in KML files that can be added to the site.</p>
                    <p>You can also export a KML file from <a href="https://www.google.com/maps/" target="_blank" rel="noreferrer">Google Maps</a> and use it. Google Maps is very popular, so we can use this feature to import maps made by others.</p>
                    <p><small>Please note this is just a quick example, not a real map. The KML format allows us to create excellent maps.</small></p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/5ko3w4en/embedded/result,html/">Copy map</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://www.youtube.com/watch?v=ZmAwkzKQ9SM">Video tutorial</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://storage.googleapis.com/gp-misc/images-maps/demo-1/lisbon-example.kml">Download KML</a>
                        <a class="btn btn-secondary" target="_blank" href="http://static.googleusercontent.com/media/earth.google.com/en//userguide/v4/google_earth_user_guide.pdf">Docs</a>
                    </p>

                    <!-- EXAMPLES -->
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/quienes-somos/contacto/">Contact page</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->

                </div>
            </div>

            <div class="row">
                <div class="col-sm">
                    <h2><a name="geo-json" href="#geo-json" title="Click to get this section's URL">&rtrif;</a> Geo Json format and editors</h2>
                </div>
            </div>

           <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- FIGURE -->
                    <div id="heat_map" style="height: 400px; margin-bottom: 0.5em;"></div>
                    <script>
                      var map;
                      function initHeatMap() {
                        map = new google.maps.Map(document.getElementById('heat_map'), {
                          zoom: 2,
                          center: {lat: -3.865427, lng: 0.196123},
                          mapTypeId: 'terrain',
                          scrollwheel: false,
                        });

                        // Create a <script> tag and set the USGS URL as the source.
                        var script = document.createElement('script');

                        // This example uses a local copy of the GeoJSON stored at
                        // http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojsonp
                        script.src = 'https://developers.google.com/maps/documentation/javascript/examples/json/earthquake_GeoJSONP.js';
                        document.getElementsByTagName('head')[0].appendChild(script);

                      }

                      function eqfeed_callback(results) {
                        var heatmapData = [];
                        for (var i = 0; i < results.features.length; i++) {
                          var coords = results.features[i].geometry.coordinates;
                          var latLng = new google.maps.LatLng(coords[1], coords[0]);
                          heatmapData.push(latLng);
                        }
                        var heatmap = new google.maps.visualization.HeatmapLayer({
                          data: heatmapData,
                          dissipating: false,
                          map: map
                        });
                      }
                    </script>
                    <!-- FIGURE -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p><a target="_blank" href="https://en.wikipedia.org/wiki/GeoJSON">GeoJson</a> is our <strong>preferred format to work with maps</strong> as it has more tools and can work well both with Google Maps and Open Street Maps.</p>
                    <h3>GeoJson editors</h3>
                    <p>There’s a few free and paid GeoJson editors that will help you build your map. Maps made with en editor are easier to translate and adapt.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="http://geojson.io/">Geo Json editor</a>
                        <a class="btn btn-outline-dark" target="_blank" href="http://umap.openstreetmap.fr/en/">OSM editor</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://mapshaper.org/">mapshaper.org</a>
                        <a class="btn btn-outline-dark" target="_blank" href="http://mapstarter.com/">mapstarter.com</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://www.qgis.org/en/site/about/features.html">Advanced Geo Json editor</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://gist.github.com/">Colaborate in Gist</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://gist.github.com/osvik/07e9a054b533b94a367ea0dc572e1c78">Example in Gist</a>
                    </p>

                    <!-- EXAMPLES -->
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/en-profundidad/las-rutas-de-riesgo-de-las-armas-espanolas/">Spanish weapons exports</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->

                </div>
            </div>

            <div class="row">
                <div class="col-sm">
                    <h2><a name="custom-designs" href="#custom-designs" title="Click to get this section's URL">&rtrif;</a> Open Street Map and custom designs</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!-- CUSTOM TITLES MAP -->

                    <style>
                        .leaflet-popup-content-wrapper,
                        .leaflet-popup-tip {
                          background-color: #fff;
                        }

                        .leaflet-popup-content-wrapper {
                          color: #212529;
                          font-family: "Work Sans", sans-serif;
                        }

                        .leaflet-popup-content p {
                          margin: 5px 0 5px 0;
                        }

                        .nombre_central {
                          font-weight: 700;
                        }

                        .importe_pago {
                          color: red;
                        }
                    </style>

                    <div id="customTiles" style="width: 100%; height: 400px; margin-bottom: 0.5em;"></div>
                    <script>

                        document.addEventListener("DOMContentLoaded", function(){
                            /* global L, document */

                            var containerEl = document.getElementById("customTiles");
                            var elwidth = containerEl.offsetWidth;
                            var mapheight = elwidth >= 550 ? 550 : 300;
                            var zoomvalue = elwidth >= 550 ? 6 : 5;

                            document.getElementById("customTiles").style.height = mapheight + "px";

                            var osmap = L.map('customTiles', {
                                scrollWheelZoom: false
                            }).setView([40.1, -3], zoomvalue);

                            L.tileLayer('https://{s}.tile.openstreetmap.se/hydda/base/{z}/{x}/{y}.png', {
                                maxZoom: 18,
                                attribution: 'Diseño por <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Datos del mapa &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                                id: 'mapbox.light'
                            }).addTo(osmap);

                            // EDP
                            var edpEspana = L.icon({
                                iconUrl: 'https://storage.googleapis.com/gpes-static/mapa-pagos-por-capacidad/icons/edp.png',
                                iconAnchor: [10, 45],
                                popupAnchor: [5, -50]
                            });

                            // Iberdrola
                            var iberdrola = L.icon({
                                iconUrl: 'https://storage.googleapis.com/gpes-static/mapa-pagos-por-capacidad/icons/iberdrola.png',
                                iconAnchor: [10, 45],
                                popupAnchor: [0, -45]
                            });

                            // Viesgo
                            var viesgo = L.icon({
                                iconUrl: 'https://storage.googleapis.com/gpes-static/mapa-pagos-por-capacidad/icons/viesgo.png',
                                iconAnchor: [10, 45],
                                popupAnchor: [5, -50]
                            });

                            // Iberdrola
                            var endesa = L.icon({
                                iconUrl: 'https://storage.googleapis.com/gpes-static/mapa-pagos-por-capacidad/icons/endesa.png',
                                iconAnchor: [10, 45],
                                popupAnchor: [0, -45]
                            });

                            // Fenosa
                            var fenosa = L.icon({
                                iconUrl: 'https://storage.googleapis.com/gpes-static/mapa-pagos-por-capacidad/icons/fenosa.png',
                                iconAnchor: [10, 45],
                                popupAnchor: [0, -45]
                            });

                            // Aboño 2 + Soto Ribera 3
                            L.marker([43.42832, -5.8416145], {
                                icon: edpEspana
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Aboño 2</p>
                                <p class="municipio">Carreño (Asturias)</p>
                                <p class="importe_pago">41.872.184,00 €</p>
                                <p class="nombre_central">Soto Ribera 3</p>
                                <p class="municipio">Ribera de Arriba (Asturias)</p>
                                <p class="importe_pago">25.739.095,00 €</p>
                            `);

                            // Guardo 2
                            L.marker([42.82626, -4.84626], {
                                icon: iberdrola
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Guardo 2 (Velilla)</p>
                                <p class="municipio">Velilla del Río Carrión (Palencia)</p>
                                <p class="importe_pago">23.785.080,00 €</p>
                            `);

                            // Lada 4
                            L.marker([43.29636, -5.682541], {
                                icon: iberdrola
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Lada 4</p>
                                <p class="municipio">Langreo (Asturias)</p>
                                <p class="importe_pago">21.025.718,00 €</p>
                            `);

                            // Los Barrios
                            L.marker([36.18539, -5.492747], {
                                icon: viesgo
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Los Barrios</p>
                                <p class="municipio">Los Barrios (Cadiz)</p>
                                <p class="importe_pago">37.969.609,00 €</p>
                            `);

                            // Compostilla II
                            L.marker([42.62387, -6.563678], {
                                icon: endesa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Compostilla II</p>
                                <p class="municipio">Cubillos del Sil (León)</p>
                                <p class="importe_pago">41.710.671,00 €</p>
                            `);

                            // Litoral de Almería GR 1
                            L.marker([36.99659, -1.895012], {
                                icon: endesa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Litoral de Almería GR 1</p>
                                <p class="municipio">Carboneras (Almería)</p>
                                <p class="importe_pago">32.737.486,00 €</p>
                            `);

                            // Puente Nuevo GR 3
                            L.marker([38.18865, -5.018202], {
                                icon: viesgo
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Puente Nuevo GR 3</p>
                                <p class="municipio">Espiel (Córdoba)</p>
                                <p class="importe_pago">14.986.466,00 €</p>
                            `);

                            // As pontes
                            L.marker([43.44582, -7.849446], {
                                icon: endesa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">As pontes</p>
                                <p class="municipio">As Pontes de García Rodríguez (A Coruña)</p>
                                <p class="importe_pago">103.694.042,00 €</p>
                            `);

                            // Teruel
                            L.marker([40.97544, -0.4436573], {
                                icon: endesa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Teruel</p>
                                <p class="municipio">Andorra (Teruel)</p>
                                <p class="importe_pago">20.043.222,00 €</p>
                            `);

                            // La Robla
                            L.marker([42.80159, -5.628979], {
                                icon: fenosa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">La Robla</p>
                                <p class="municipio">La Robla (León)</p>
                                <p class="importe_pago">24.117.242,00 €</p>
                            `);

                            // Meirama Grupo 1
                            L.marker([43.16024, -8.473271], {
                                icon: fenosa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Meirama Grupo 1</p>
                                <p class="municipio">Cerceda (A Coruña)</p>
                                <p class="importe_pago">31.349.914,00 €</p>
                            `);

                            // Narcea Grupo 3
                            L.marker([43.33509, -6.414816], {
                                icon: fenosa
                            }).addTo(osmap).bindPopup(`
                                <p class="nombre_central">Narcea Grupo 3</p>
                                <p class="municipio">Tineo (Asturias)</p>
                                <p class="importe_pago">22.486.204,00 €</p>
                            `);
                        });



                    </script>

                    <!-- /CUSTOM TITLES MAP -->
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Open Street Map also allows custom tiles.  You can select one of <strong>many available designs</strong>, if you want to highlight a region’s topography for example.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/greenpeace/r5mnghz3/embedded/result,html/">Copy map</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/51y6n3h8/embedded/result,html/">Another custom design</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/sL70pvhu/embedded/result,html/">Spanish labels</a>
                        <a class="btn btn-secondary" target="_blank" href="https://wiki.openstreetmap.org/wiki/Tile_servers">Docs</a>
                    </p>
                    <!-- EXAMPLES -->                  
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/en-profundidad/ayudas-opacas-a-las-energias-sucias-en-tu-factura/bajo-la-lupa-de-europa/">Dirty energy in your invoice</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->
                </div>
            </div>

            <div class="row">
                <div class="col-sm">
                    <h2><a name="leaflet-open-street-map" href="#leaflet-open-street-map" title="Click to get this section's URL">&rtrif;</a> Leaflet and Open Street Map</h2>
                </div>
            </div>

           <div class="row">
                <div class="col-sm-12 col-md-8">
                    
                    <!-- MAP GEOJSON -->
                    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" />
                    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" defer></script>

                    <style>
                        .leaflet-popup-content {
                            font-family: "Work Sans",sans-serif;
                            line-height: 1.3;
                        }
                        .leaflet-popup-content h4 {
                            margin: 0.2em;
                            font-size: 1.4em !important;
                        }

                        .leaflet-popup-content h5 {
                            margin: 0.2em;
                            font-size: 1.2em !important;
                        }
                        .leaflet-popup-content p {
                            margin: 0.7em 0.2em 0.2em 0.2em;
                        }
                    </style>

                    <div id="geoJsonMap" style="width: 100%; height: 200px;"></div>

                    <script src="assets/js/map-export-weapons.js" type="text/javascript" defer></script>
                    <script>
                        document.addEventListener("DOMContentLoaded", function(){

                            /**
                             * Function to run on each feature
                             */
                            function onEachFeature(feature, layer) {
                                if (feature.properties && feature.properties.tipoArmas) {
                                    layer.bindPopup('<h4>' + feature.properties.name + '</h4><h5>' + feature.properties.tipoArmas + '</h5><p>' + feature.properties.preocupacion + '</p>' );
                                }

                                layer.on({
                                    click: function(n) {
                                        if ( osmap.getZoom() < 4 ) {
                                            osmap.setView(n.latlng, 4);
                                        }
                                    }
                                });

                            }

                            var containerEl = document.getElementById("geoJsonMap");

                            var elwidth = containerEl.offsetWidth;

                            if ( elwidth < 550 ) {
                                mapheight = 300;
                                zoomvalue = 1;
                            } else if ( elwidth >= 550 && elwidth < 830 ) {
                                mapheight = 380;
                                zoomvalue = 1;
                            } else {
                                mapheight = 430;
                                zoomvalue = 2;
                            }
                            document.getElementById("geoJsonMap").style.height = mapheight + "px";

                            var osmap = L.map('geoJsonMap', {
                                scrollWheelZoom: false
                            }).setView([25.865427, 0], zoomvalue);

                            L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
                                attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
                                id: 'mapbox.light',
                                maxZoom: 6,
                                minZoom: zoomvalue
                            }).addTo(osmap);

                            L.geoJSON(geojsonFeature, {
                                onEachFeature: onEachFeature,
                                // Style
                                style: function(feature) {
                                    var s = {
                                        "color" : feature.properties['fill'] ? feature.properties['fill'] : '#ffffff',
                                        "fillOpacity" : feature.properties['fill-opacity'] ? feature.properties['fill-opacity'] : 0.3,
                                        "weight" : feature.properties['stroke-width'] ?  feature.properties['stroke-width'] : 1
                                    };
                                    return s;
                                }
                            }).addTo(osmap);
                        });
                    </script>
                    <!-- /MAP GEOJSON -->
                    
                    <!-- FIGURE FOOTER -->
                    <div class="clearfix mb-5">

                      <span class="float-left">
                          <small><strong>Source:</strong> <a target="_blank" href="https://es.greenpeace.org/">Greenpeace</a></small>
                      </span>

                      <span class="float-right">

                      <!-- MAKE SURE THE DATA-TARGET MATCHES THE ID -->

                                <small><a href="javascript:void(0);" data-toggle="modal" data-target="#exampleModal" title="Difundir este mapa" style="vertical-align: middle;" onclick="typeof(ga) == 'function' && ga('send', 'event', 'EventCat', 'click', 'Descargar')">
                                    <img src="https://storage.googleapis.com/es-greenpeace-org/ico/download.svg" style="vertical-align: text-bottom; height: 15px;" />
                                    Download
                                </a></small>
                            </span>
                    </div>
                    <!-- /FIGURE FOOTER -->
                </div>
                <div class="col-sm-12 col-md-4">
                    <p>Leaflet is a widely used open source JavaScript library created to build <strong>web mapping applications</strong>.</p>
                    <p>And as Open Street Map does not require an API key, we are starting to use Leaflet and Open Street Maps to <strong>build complex responsive maps that can run in practically any web page</strong>.</p>
                    <p>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/bj2uqst8/embedded/result,html/">Copy map</a>
                        <a class="btn btn-outline-dark" target="_blank" href="https://jsfiddle.net/osvik/4ftjod54/embedded/result,html/">Map with countries</a>
                        <a class="btn btn-outline-dark" target="_blank" href="assets/data/world-map-geojson.json" download>Countries data</a>
                        <a class="btn btn-secondary" target="_blank" href="https://leafletjs.com/reference-1.4.0.html">Docs</a>
                    </p>
                    <!-- EXAMPLES -->                  
                    <ul class="nav nav-pills examples">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Examples</a>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/en-profundidad/armas-marca-espana-el-oscuro-negocio-de-la-guerra/">Spain's weapons, the dark business of war</a>
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/en-profundidad/las-rutas-de-riesgo-de-las-armas-espanolas/">Spain's weapons, the high risk routes</a>
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/noticias/cuanto-contamina-la-carne-industrial/">How much does industrial meat contaminates?</a>
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/trabajamos-en/agricultura/pozos-ilegales/">Illegal wells</a>
                                <a class="dropdown-item" target="_blank" href="https://es.greenpeace.org/es/noticias/como-comprometido-esta-ayuntamiento-movilidad-sostenible/">Urban mobility ranking</a>
                                <a class="dropdown-item" target="_blank" href="https://www.huffingtonpost.es/entry/confinados-en-la-acera_es_5eb88b9dc5b6d34558aecde1?8k7">Confined on the sidewalk (Huffington Post)</a>
                            </div>
                        </li>
                    </ul>
                    <!-- EXAMPLES -->
                </div>
            </div>

            <hr />
            
            <p><strong>Please note:</strong> the first 2 maps on this page require a <a href="https://developers.google.com/maps/documentation/javascript/get-api-key">Google Maps JavaScript API key</a>. The key used in this page can be used in <code>*.greenpeace.org/*</code> pages and a few development/Greenpeace domains, but it won’t work elsewhere.</p>

            

            <p>&nbsp;</p>
            <p class="text-center"><a class="btn btn-dark" href="geo-maps.html">Prev</a> <a class="btn btn-dark" href="multimedia.html">Next</a></p>
            <p>&nbsp;</p>

            <script>
                function loadmaps(){
                    initMapKML();
                    initHeatMap();
                }
            </script>

            <script defer
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBiy7JuMr1LFrecAu8SORp9Wt2vYM8A3D8&libraries=visualization&callback=loadmaps">
            </script>

            <!--
------------------------------------------------------------------------------------------------------------------------
-->
        </article>
    </div>
    <div class="footerbar mceNonEditable">
        <div class="container">
            <footer>
                <div class="row">
                    <div class="col-md-4 text-left">
                        <p><a href="https://es.greenpeace.org/es/politica-de-privacidad-y-cookies/">Privacy and cookies</a></p>
                    </div>
                    <div class="col-md-4 text-center">
                        <p><a href="index.html"> <img src="https://storage.googleapis.com/peticiones-greenpeace-2018/ico/greenpeace.svg" alt="Greenpeace" /> </a></p>
                    </div>
                    <div class="col-md-4 text-right">
                        <p><a href="https://es.greenpeace.org/es/copyright/">&copy; Greenpeace 2019</a></p>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="https://unpkg.com/popper.js@1.14.4/dist/umd/popper.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" defer></script>
</body>

</html>
